dev.off()
fs12 = ggplot(fs12_plot, aes(x = Answers))+
geom_histogram(fill = "purple",binwidth = 0.5)+
geom_text(aes( label = scales::percent(..prop..),
y= ..count.. ), stat= "count", vjust = -.5)+
xlab("Relevancy score")+
ylab("# answers")+
theme_minimal()+
theme(#axis.text = element_text(size = 16),
axis.title = element_text(size = 16))
png("../figures/figureS12.png", width = 1200, height = 600, res = 150)
fs12
dev.off()
png("../figures/figureS12.png", width = 1200, height = 800, res = 150)
fs12
dev.off()
png("../figures/figureS12.png", width = 700, height = 800, res = 150)
fs12
dev.off()
png("../figures/figureS12.png", width = 700, height = 400, res = 150)
fs12
dev.off()
png("../figures/figureS12.png", width = 1200, height = 800, res = 150)
fs12
dev.off()
colnames(d)
library(data.table)
library(ggplot2)
library(dplyr)
## plot figure 6
fs13_plot = d[,17]
colnames(fs13_plot) = "Answers"
fs13 = ggplot(fs13_plot, aes(x = Answers))+
geom_histogram(fill = "purple",binwidth = 0.5)+
geom_text(aes( label = scales::percent(..prop..),
y= ..count.. ), stat= "count", vjust = -.5)+
xlab("Relevancy score")+
ylab("# answers")+
theme_minimal()+
theme(#axis.text = element_text(size = 16),
axis.title = element_text(size = 16))
png("../figures/figureS13.png", width = 1200, height = 800, res = 150)
fs13
dev.off()
png("../figures/figureS13.png", width = 1200, height = 400, res = 150)
fs13
dev.off()
png("../figures/figureS13.png", width = 1200, height = 600, res = 150)
fs13
dev.off()
png("../figures/figureS13.png", width = 1200, height = 700, res = 150)
fs13
dev.off()
library(data.table)
library(ggplot2)
library(dplyr)
# Load data
d = fread("../qualitative_analysis/ELIXIR_BioHackathon_35FAIRX_Responses-Form_responses1.tsv")
colnames(d)
library(fmsb)
# Create data: note in High school for Jonathan:
data <- as.data.frame(matrix( sample( 2:20 , 10 , replace=T) , ncol=10))
colnames(data) <- c("math" , "english" , "biology" , "music" , "R-coding", "data-viz" , "french" , "physic", "statistic", "sport" )
# To use the fmsb package, I have to add 2 lines to the dataframe: the max and min of each topic to show on the plot!
data <- rbind(rep(20,10) , rep(0,10) , data)
data
# The default radar chart
radarchart(data)
# Create data: note in High school for several students
set.seed(99)
data <- as.data.frame(matrix( sample( 0:20 , 15 , replace=F) , ncol=5))
colnames(data) <- c("math" , "english" , "biology" , "music" , "R-coding" )
rownames(data) <- paste("mister" , letters[1:3] , sep="-")
# To use the fmsb package, I have to add 2 lines to the dataframe: the max and min of each variable to show on the plot!
data <- rbind(rep(20,5) , rep(0,5) , data)
data
# plot with default options:
radarchart(data)
#set.seed(99)
data <- as.data.frame(matrix( sample( 0:20 , 15 , replace=F) , ncol=5))
colnames(data) <- c("math" , "english" , "biology" , "music" , "R-coding" )
rownames(data) <- paste("mister" , letters[1:3] , sep="-")
# To use the fmsb package, I have to add 2 lines to the dataframe: the max and min of each variable to show on the plot!
data <- rbind(rep(20,5) , rep(0,5) , data)
# Color vector
colors_border=c( rgb(0.2,0.5,0.5,0.9), rgb(0.8,0.2,0.5,0.9) , rgb(0.7,0.5,0.1,0.9) )
colors_in=c( rgb(0.2,0.5,0.5,0.4), rgb(0.8,0.2,0.5,0.4) , rgb(0.7,0.5,0.1,0.4) )
# plot with default options:
radarchart( data  , axistype=1 ,
#custom polygon
pcol=colors_border , pfcol=colors_in , plwd=4 , plty=1,
#custom the grid
cglcol="grey", cglty=1, axislabcol="grey", caxislabels=seq(0,20,5), cglwd=0.8,
#custom labels
vlcex=0.8
)
data
colnames(d)
data
colnames(d[,2:11])
colMeans(d[,2:11])
colMean(d[,2:11])
colMeans(d[,2:11])
d[,2:11]
fs6_plot = d[,2:11]
fs6_plot[fs6_plot=="N/A"] = 1
unique(fs6_plot)
fs6_plot = d[,2:11]
fs6_plot[fs6_plot=="N/A"] = 1
fs6_plot[fs6_plot=="Never (1)"] = 1
fs6_plot[fs6_plot=="Very Rarely (2)"] = 2
fs6_plot[fs6_plot=="Always (5)"] = 5
fs6_plot[fs6_plot==" Very Frequently (4)"] = 4
fs6_plot[fs6_plot=="Occasionally (3"] = 3
colMeans(d[,2:11])
colMeans(fs6_plot)
unique(fs6_plot)
fs6_plot[fs6_plot=="Very Frequently (4)"] = 4
colMeans(fs6_plot)
fs6_plot = d[,2:11]
fs6_plot[fs6_plot=="N/A"] = 1
fs6_plot[fs6_plot=="Never (1)"] = 1
fs6_plot[fs6_plot=="Very Rarely (2)"] = 2
fs6_plot[fs6_plot=="Always (5)"] = 5
fs6_plot[fs6_plot=="Very Frequently (4)"] = 4
fs6_plot[fs6_plot=="Occasionally (3"] = 3
colMeans(fs6_plot)
unique(fs6_plot)
fs6_plot[fs6_plot=="Occasionally (3)"] = 3
colMeans(fs6_plot)
unique(fs6_plot)
head(fs6_plot)
fs6_plot = d[,2:11]
fs6_plot
d
fs6_plot[fs6_plot=="N/A",] = 1
fs6_plot[fs6_plot=="Never (1)"] = 1
fs6_plot = d[,2:11]
colnames(fs6_plot)
fs6_plot[fs6_plot=="N/A",] = 1
colnames(fs6_plot)
fs6_plot[fs6_plot=="Never (1)"] = 1
colnames(fs6_plot)
fs6_plot[fs6_plot=="Always (5)"] = 5
fs6_plot[fs6_plot=="Very Frequently (4)"] = 4
fs6_plot[fs6_plot=="Occasionally (3)"] = 3
colMeans(fs6_plot)
colMeans(fs6_plot$`1. If you develop or maintain databases: How often these resources include the following variables in their data model?   [Sex]`)
mean(fs6_plot$`1. If you develop or maintain databases: How often these resources include the following variables in their data model?   [Sex]`)
colMeans(fs6_plot, na.rm = T)
colMeans(as.numeric(fs6_plot), na.rm = T)
fs6_plot = d[,2:11]
fs6_plot[fs6_plot=="N/A",] = 1
fs6_plot[fs6_plot=="Never (1)",] = 1
fs6_plot[fs6_plot=="Very Rarely (2)",] = 2
fs6_plot[fs6_plot=="Always (5)",] = 5
fs6_plot[fs6_plot=="Very Frequently (4)",] = 4
fs6_plot[fs6_plot=="Occasionally (3)",] = 3
colMeans(as.numeric(fs6_plot), na.rm = T)
fs6_plot = d[,2:11]
fs6_plot[fs6_plot=="N/A"] = 1
fs6_plot[fs6_plot=="Never (1)"] = 1
fs6_plot[fs6_plot=="Very Rarely (2)"] = 2
fs6_plot[fs6_plot=="Always (5)"] = 5
fs6_plot[fs6_plot=="Very Frequently (4)"] = 4
fs6_plot[fs6_plot=="Occasionally (3)"] = 3
fs6_plot[,1]
men(fs6_plot[,1])
mean(fs6_plot[,1])
mean(fs6_plot[,1], na.rm = T)
fs6_plot[,1]+1
fs6_plot = as.data.frame(d[,2:11])
fs6_plot[fs6_plot=="N/A"] = 1
fs6_plot[fs6_plot=="Never (1)"] = 1
fs6_plot[fs6_plot=="Very Rarely (2)"] = 2
fs6_plot[fs6_plot=="Always (5)"] = 5
fs6_plot[fs6_plot=="Very Frequently (4)"] = 4
fs6_plot[fs6_plot=="Occasionally (3)"] = 3
mean(fs6_plot[,1], na.rm = T)
fs6_plot = as.data.frame(d[,2:11])
colnames(fs6_plot) = 1:10
fs6_plot
fs6_plot[fs6_plot=="N/A"] = 1
fs6_plot[fs6_plot=="Never (1)"] = 1
fs6_plot[fs6_plot=="Very Rarely (2)"] = 2
fs6_plot[fs6_plot=="Always (5)"] = 5
fs6_plot[fs6_plot=="Very Frequently (4)"] = 4
fs6_plot[fs6_plot=="Occasionally (3)"] = 3
fs6_plot
fs6_plot[fs6_plot==""] = 1
fs6_plot
colMeans(as.numeric(fs6_plot), na.rm = T)
colMeans(as.data.frame(fs6_plot), na.rm = T)
rowMeans(as.data.frame(fs6_plot), na.rm = T)
mean(fs6_plot$1)
mean(fs6_plot[[1]])
mean(fs6_plot[[1]],na.rm=T)
fs6_plot[[1]]
fs6_plot = as.numeric(fs6_plot)
fs6_plot = as.numeric(as.data.frame(fs6_plot))
fs6_plot <âˆ’lapply(fs6_plot ,as.numeric)
fs6_plot =lapply(fs6_plot ,as.numeric)
fs6_plot =data.frame(lapply(fs6_plot ,as.numeric))
fs6_plot
fs6_plot = as.data.frame(d[,2:11])
colnames(fs6_plot) = 1:10
fs6_plot[fs6_plot==""] = 1
fs6_plot[fs6_plot=="N/A"] = 1
fs6_plot[fs6_plot=="Never (1)"] = 1
fs6_plot[fs6_plot=="Very Rarely (2)"] = 2
fs6_plot[fs6_plot=="Always (5)"] = 5
fs6_plot[fs6_plot=="Very Frequently (4)"] = 4
fs6_plot[fs6_plot=="Occasionally (3)"] = 3
fs6_plot =data.frame(lapply(fs6_plot ,as.numeric))
rowMeans(as.data.frame(fs6_plot), na.rm = T)
rowMeans(fs6_plot,)
fs6_plot = as.data.frame(d[,2:11])
colnames(fs6_plot)
data = data.frame(sex = c(5,1),
gender = c(5,1),
age = c(5,1),
ethnicity = c(5,1),
race = c(5,1))
colMeans(fs6_plot)
fs6_plot[fs6_plot==""] = 1
fs6_plot[fs6_plot=="N/A"] = 1
fs6_plot[fs6_plot=="Never (1)"] = 1
fs6_plot[fs6_plot=="Very Rarely (2)"] = 2
fs6_plot[fs6_plot=="Always (5)"] = 5
fs6_plot[fs6_plot=="Very Frequently (4)"] = 4
fs6_plot[fs6_plot=="Occasionally (3)"] = 3
fs6_plot =data.frame(lapply(fs6_plot ,as.numeric))
colMeans(fs6_plot)
cm = colMeans(fs6_plot)
rbind(data, dm[1:5], dm(6:10))
rbind(data, cm[1:5], cm(6:10))
cm = rowMeans(fs6_plot)
cm = colMeans(fs6_plot)
rbind(data, cm[1:5], cm[6:10])
data = rbind(data, cm[1:5], cm[6:10])
#set.seed(99)
data <- as.data.frame(matrix( sample( 0:20 , 15 , replace=F) , ncol=5))
data
colnames(data) <- c("math" , "english" , "biology" , "music" , "R-coding" )
rownames(data) <- paste("mister" , letters[1:3] , sep="-")
data
# To use the fmsb package, I have to add 2 lines to the dataframe: the max and min of each variable to show on the plot!
data <- rbind(rep(20,5) , rep(0,5) , data)
data
data2 = rbind(cm[1:5], cm[6:10]))
data2 = rbind(cm[1:5], cm[6:10])
rownames(data2) = c("developers", "researchers")
data = rbind(data, data2)
data2
colnames(data2)= colnames(data)
rownames(data2) = c("developers", "researchers")
data = rbind(data, data2)
data
data = data.frame(sex = c(5,1),
gender = c(5,1),
age = c(5,1),
ethnicity = c(5,1),
race = c(5,1))
data2 = rbind(cm[1:5], cm[6:10])
colnames(data2)= colnames(data)
rownames(data2) = c("developers", "researchers")
data = rbind(data, data2)
data
# Color vector
colors_border=c( rgb(0.2,0.5,0.5,0.9), rgb(0.8,0.2,0.5,0.9) , rgb(0.7,0.5,0.1,0.9) )
colors_in=c( rgb(0.2,0.5,0.5,0.4), rgb(0.8,0.2,0.5,0.4) , rgb(0.7,0.5,0.1,0.4) )
# plot with default options:
radarchart( data  , axistype=1 ,
#custom polygon
pcol=colors_border , pfcol=colors_in , plwd=4 , plty=1,
#custom the grid
cglcol="grey", cglty=1, axislabcol="grey", caxislabels=seq(0,20,5), cglwd=0.8,
#custom labels
vlcex=0.8
)
# plot with default options:
radarchart( data  , axistype=1 ,
#custom polygon
pcol=colors_border , pfcol=colors_in , plwd=4 , plty=1,
#custom the grid
cglcol="grey", cglty=1, axislabcol="grey", caxislabels=seq(0,5,1), cglwd=0.8,
#custom labels
vlcex=0.8
)
fs6_plot = as.data.frame(d[,2:11])
fs6_plot[fs6_plot==""] = NA
fs6_plot[fs6_plot=="N/A"] = NA
fs6_plot[fs6_plot=="Never (1)"] = 1
fs6_plot[fs6_plot=="Very Rarely (2)"] = 2
fs6_plot[fs6_plot=="Always (5)"] = 5
fs6_plot[fs6_plot=="Very Frequently (4)"] = 4
fs6_plot[fs6_plot=="Occasionally (3)"] = 3
fs6_plot =data.frame(lapply(fs6_plot ,as.numeric))
cm = colMeans(fs6_plot)
cm = colMeans(fs6_plot, na.rm=T)
data = data.frame(sex = c(5,1),
gender = c(5,1),
age = c(5,1),
ethnicity = c(5,1),
race = c(5,1))
data2 = rbind(cm[1:5], cm[6:10])
colnames(data2)= colnames(data)
rownames(data2) = c("developers", "researchers")
data = rbind(data, data2)
# Library
library(fmsb)
# Color vector
colors_border=c( rgb(0.2,0.5,0.5,0.9), rgb(0.8,0.2,0.5,0.9) , rgb(0.7,0.5,0.1,0.9) )
colors_in=c( rgb(0.2,0.5,0.5,0.4), rgb(0.8,0.2,0.5,0.4) , rgb(0.7,0.5,0.1,0.4) )
# plot with default options:
radarchart( data  , axistype=1 ,
#custom polygon
pcol=colors_border , pfcol=colors_in , plwd=4 , plty=1,
#custom the grid
cglcol="grey", cglty=1, axislabcol="grey", caxislabels=seq(0,5,1), cglwd=0.8,
#custom labels
vlcex=0.8
)
# Add a legend
legend(x=0.7, y=1, legend = rownames(data[-c(1,2),]), bty = "n", pch=20 , col=colors_in , text.col = "grey", cex=1.2, pt.cex=3)
# Add a legend
legend(x=0.7, y=1, legend = rownames(data[-c(1,2),]),
bty = "n", pch=20 , col=colors_in , text.col = "grey", cex=1.2, pt.cex=2)
# Add a legend
legend(x=0.7, y=1, legend = rownames(data[-c(1,2),]),
bty = "n", pch=20 , col=colors_in , text.col = "grey", cex=1, pt.cex=2)
# Add a legend
legend(x=0.7, y=1, legend = rownames(data[-c(1,2),]),
bty = "n", pch=2 , col=colors_in , text.col = "grey", cex=1.2, pt.cex=2)
# Add a legend
legend(x=0.7, y=1.5, legend = rownames(data[-c(1,2),]),
bty = "n", pch=20 , col=colors_in , text.col = "grey", cex=1.2, pt.cex=2)
# plot with default options:
radarchart( data  , axistype=1 ,
#custom polygon
pcol=colors_border , pfcol=colors_in , plwd=4 , plty=1,
#custom the grid
cglcol="grey", cglty=1, axislabcol="grey", caxislabels=seq(0,5,1), cglwd=0.8,
#custom labels
vlcex=0.8
)
# Add a legend
legend(x=0.7, y=1.5, legend = rownames(data[-c(1,2),]),
bty = "n", pch=20 , col=colors_in , text.col = "grey", cex=1.2, pt.cex=2)
# Add a legend
legend(x=0.7, y=1.5, legend = rownames(data[-c(1,2),]),
pch=20 , col=colors_in , text.col = "grey", cex=1.2, pt.cex=2)
# Add a legend
legend(x=0.7, y=1.5, legend = rownames(data[-c(1,2),]),
bty = "n", pch=20 , col=colors_in , text.col = "grey20", cex=1.2, pt.cex=2)
# Add a legend
legend(x=0.7, y=2, legend = rownames(data[-c(1,2),]),
bty = "n", pch=20 , col=colors_in , text.col = "grey20", cex=1.2, pt.cex=2)
# plot with default options:
radarchart( data  , axistype=1 ,
#custom polygon
pcol=colors_border , pfcol=colors_in , plwd=4 , plty=1,
#custom the grid
cglcol="grey", cglty=1, axislabcol="grey", caxislabels=seq(0,5,1), cglwd=0.8,
#custom labels
vlcex=0.8
)
# Add a legend
legend(x=0.7, y=2, legend = rownames(data[-c(1,2),]),
bty = "n", pch=20 , col=colors_in , text.col = "grey20", cex=1.2, pt.cex=2)
png("../figures/figureS6.png", width = 1500, height = 1000, res = 200)
# plot with default options:
radarchart( data  , axistype=1 ,
#custom polygon
pcol=colors_border , pfcol=colors_in , plwd=4 , plty=1,
#custom the grid
cglcol="grey", cglty=1, axislabcol="grey", caxislabels=seq(0,5,1), cglwd=0.8,
#custom labels
vlcex=0.8
)
# Add a legend
legend(x=0.7, y=1.5, legend = rownames(data[-c(1,2),]),
bty = "n", pch=20 , col=colors_in , text.col = "grey20", cex=1.2, pt.cex=2)
dev.off()
png("../figures/figureS6.png", width = 1500, height = 1000, res = 200)
# plot with default options:
radarchart( data  , axistype=1 ,
#custom polygon
pcol=colors_border , pfcol=colors_in , plwd=4 , plty=1,
#custom the grid
cglcol="grey", cglty=1, axislabcol="grey", caxislabels=seq(0,5,1), cglwd=0.8,
#custom labels
vlcex=0.8
)
# Add a legend
legend(x=0.7, y=1, legend = rownames(data[-c(1,2),]),
bty = "n", pch=20 , col=colors_in , text.col = "grey20", cex=1.2, pt.cex=2)
dev.off()
# plot with default options:
radarchart( data  , axistype=1 ,
#custom polygon
pcol=colors_border , pfcol=colors_in , plwd=4 , plty=1,
#custom the grid
cglcol="grey", cglty=1, axislabcol="grey", caxislabels=seq(0,5,1), cglwd=0.8,
#custom labels
vlcex=1
)
# plot with default options:
radarchart( data  , axistype=1 ,
#custom polygon
pcol=colors_border , pfcol=colors_in , plwd=6 , plty=1,
#custom the grid
cglcol="grey", cglty=1, axislabcol="grey", caxislabels=seq(0,5,1), cglwd=0.8,
#custom labels
vlcex=0.8
)
# plot with default options:
radarchart( data  , axistype=1 ,
#custom polygon
pcol=colors_border , pfcol=colors_in , plwd=4 , plty=4,
#custom the grid
cglcol="grey", cglty=1, axislabcol="grey", caxislabels=seq(0,5,1), cglwd=0.8,
#custom labels
vlcex=0.8
)
# plot with default options:
radarchart( data  , axistype=1 ,
#custom polygon
pcol=colors_border , pfcol=colors_in , plwd=4 , plty=2,
#custom the grid
cglcol="grey", cglty=1, axislabcol="grey", caxislabels=seq(0,5,1), cglwd=0.8,
#custom labels
vlcex=0.8
)
# plot with default options:
radarchart( data  , axistype=1 ,
#custom polygon
pcol=colors_border , pfcol=colors_in , plwd=4 , plty=6,
#custom the grid
cglcol="grey", cglty=1, axislabcol="grey", caxislabels=seq(0,5,1), cglwd=0.8,
#custom labels
vlcex=0.8
)
# plot with default options:
radarchart( data  , axistype=1 ,
#custom polygon
pcol=colors_border , pfcol=colors_in , plwd=2 , plty=6,
#custom the grid
cglcol="grey", cglty=1, axislabcol="grey", caxislabels=seq(0,5,1), cglwd=0.8,
#custom labels
vlcex=0.8
)
# plot with default options:
radarchart( data  , axistype=1 ,
#custom polygon
pcol=colors_border , pfcol=colors_in , plwd=2 , plty=6,
#custom the grid
cglcol="grey", cglty=1, axislabcol="grey", caxislabels=seq(0,5,1), cglwd=10,
#custom labels
vlcex=0.8
)
# plot with default options:
radarchart( data  , axistype=1 ,
#custom polygon
pcol=colors_border , pfcol=colors_in , plwd=2 , plty=6,
#custom the grid
cglcol="grey", cglty=5, axislabcol="grey", caxislabels=seq(0,5,1), cglwd=0.8,
#custom labels
vlcex=0.8
)
png("../figures/figureS6.png", width = 1500, height = 1000, res = 200)
# plot with default options:
radarchart( data  , axistype=1 ,
#custom polygon
pcol=colors_border , pfcol=colors_in , plwd=2 , plty=6,
#custom the grid
cglcol="grey", cglty=1, axislabcol="grey", caxislabels=seq(0,5,1), cglwd=0.8,
#custom labels
vlcex=0.8
)
# Add a legend
legend(x=0.7, y=1, legend = rownames(data[-c(1,2),]),
bty = "n", pch=20 , col=colors_in , text.col = "grey20", cex=1.2, pt.cex=2)
dev.off()
png("../figures/figureS6.png", width = 1000, height = 1000, res = 200)
# plot with default options:
radarchart( data  , axistype=1 ,
#custom polygon
pcol=colors_border , pfcol=colors_in , plwd=2 , plty=6,
#custom the grid
cglcol="grey", cglty=1, axislabcol="grey", caxislabels=seq(0,5,1), cglwd=0.8,
#custom labels
vlcex=0.8
)
# Add a legend
legend(x=0.7, y=1, legend = rownames(data[-c(1,2),]),
bty = "n", pch=20 , col=colors_in , text.col = "grey20", cex=1.2, pt.cex=2)
dev.off()
png("../figures/figureS6.png", width = 1200, height = 1000, res = 200)
# plot with default options:
radarchart( data  , axistype=1 ,
#custom polygon
pcol=colors_border , pfcol=colors_in , plwd=2 , plty=6,
#custom the grid
cglcol="grey", cglty=1, axislabcol="grey", caxislabels=seq(0,5,1), cglwd=0.8,
#custom labels
vlcex=0.8
)
# Add a legend
legend(x=0.7, y=1, legend = rownames(data[-c(1,2),]),
bty = "n", pch=20 , col=colors_in , text.col = "grey20", cex=1.2, pt.cex=2)
dev.off()
